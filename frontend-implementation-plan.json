{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "NEXUS Complete Design Overhaul ‚Äî Premium Dark UI with Gold Accents",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Redesign login/splash screen with typographic NEXUS logo, tagline, golden separator, premium CTA button, security line, and locale footer",
      "acceptanceCriteria": [
        "No image asset or duplicate NEXUS text appears on the login screen",
        "Background is solid #0A0A0A full-screen",
        "NEXUS logo renders as white Inter Black 52px with blue period #4F6EF7 60px, letter-spacing -2px",
        "Tagline, golden separator, CTA button, security line, and locale footer are all present and correctly styled",
        "Button triggers the existing login/auth flow",
        "Tap on button triggers scale(0.97) + brightness animation"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Splash.tsx",
          "operation": "modify",
          "description": "Replace the entire splash screen layout with the new design: full-screen #0A0A0A background, centered typographic NEXUS logo (white 'NEXUS' in Inter Black 52px -2px tracking + electric blue '#4F6EF7' period at 60px), tagline 'Services √† domicile premium' in #888888 italic 16px with 16px margin, 1px golden horizontal separator 60px wide centered with 32px margin, pill button 'SE CONNECTER' with #E8C89A background, #0A0A0A Bold text 16px tracking 2px uppercase, border-radius 50px, 85% max-width, 56px height, shadow 0 8px 32px rgba(232,200,154,0.3), scale(0.97) + brightness(1.1) on active state. Below button: 'üîí Face ID ¬∑ Empreinte ¬∑ WebAuthn' in #555555 12px centered. At bottom: 'CHF ¬∑ Suisse romande ¬∑ +41' in #333333 11px. Remove any image references (frontend/public/assets/generated/nexus-logo.dim_400x120.png, frontend/public/assets/generated/splash-hero.dim_1920x1080.png) and eliminate duplicate NEXUS text. Wire the button to the existing authentication flow from useAuth or useInternetIdentity."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Implement fixed global header with NEXUS logo, notification bell with animated badge, and circular avatar showing user initials",
      "acceptanceCriteria": [
        "Header is fixed/sticky at the top on all authenticated screens",
        "Background is #0A0A0A with 1px #1F1F1F bottom border",
        "NEXUS logo (white + blue period) appears on the left at 24px",
        "Notification bell with animated red pulse badge appears on the right",
        "Circular 32px initials avatar appears on the right",
        "'Mes r√©sa' button is absent from the header"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/GlobalHeader.tsx",
          "operation": "create",
          "description": "Create a new GlobalHeader component with fixed positioning at the top. Background #0A0A0A with border-bottom 1px #1F1F1F. Left side: render NEXUS typographic logo (white 'NEXUS' in Inter Bold 24px + blue period '#4F6EF7' at 24px). Right side: notification bell icon üîî with a red pulsing badge (use red-pulse animation from tailwind.config.js) showing unread notification count from AppContext, and a circular 32px avatar displaying the user's initials (extract from UserProfile name) with a dark background. Do not include a 'Mes r√©sa' button. Use the useAuth hook to get user identity and useGetCallerUserProfile to fetch the user name for initials."
        },
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Import and render GlobalHeader at the top of the Explorer screen layout. Ensure the header is fixed/sticky and the rest of the content scrolls beneath it."
        },
        {
          "path": "frontend/src/components/NexusOS.tsx",
          "operation": "modify",
          "description": "Import and render GlobalHeader at the top of the NexusOS dashboard layout. Ensure the header is fixed/sticky and the rest of the content scrolls beneath it."
        },
        {
          "path": "frontend/src/components/ClientDashboard.tsx",
          "operation": "modify",
          "description": "Import and render GlobalHeader at the top of the ClientDashboard layout. Ensure the header is fixed/sticky and the rest of the content scrolls beneath it."
        },
        {
          "path": "frontend/src/components/ProviderDetail.tsx",
          "operation": "modify",
          "description": "Import and render GlobalHeader at the top of the ProviderDetail layout. Ensure the header is fixed/sticky and the rest of the content scrolls beneath it."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Redesign Explorer search bar with golden pin icon, dropdown city selector, and distance pill with slider",
      "acceptanceCriteria": [
        "Search bar has #1A1A1A background and 1px #2A2A2A border",
        "Golden pin icon is displayed on the left of the input",
        "Placeholder text 'Votre ville...' appears in #555",
        "Tapping the input opens a dropdown with Swiss Romande city options",
        "Golden '‚â§ 50 km' pill is displayed on the right and opens a distance slider on tap"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Replace the existing search bar with a redesigned version: background #1A1A1A, border 1px #2A2A2A, border-radius appropriate for the design. On the left, render a golden pin icon (üìç emoji or SVG styled in #E8C89A). Input placeholder 'Votre ville...' in #555. On tap/focus, show a dropdown listing Swiss Romande cities from frontend/src/utils/cityData.ts. On the right, render a golden '‚â§ 50 km' pill (background #E8C89A, text #0A0A0A, border-radius 50px) that opens a distance slider modal or inline component when tapped. Wire the city selection and distance to the existing filterProsByLocation logic or state."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Redesign Explorer category filters as horizontally scrollable pills with active/inactive styling",
      "acceptanceCriteria": [
        "Category pills scroll horizontally with no visible scrollbar",
        "Active pill has #E8C89A background and #0A0A0A Bold text",
        "Inactive pills have #1A1A1A background, #888 text, 1px #2A2A2A border",
        "Pills have border-radius 50px and padding 10px 20px",
        "Pills appear in the order: Tous, Flash, Barber, Coiffure, Esth√©tique, Massage"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Replace the category filter UI with horizontally scrollable pills (overflow-x: auto with no visible scrollbar via CSS). Render pills in order: [Tous] [‚ö°Flash] [‚úÇÔ∏èBarber] [üíáCoiffure] [üíÖEsth√©tique] [ü§≤Massage]. Active pill: background #E8C89A, text #0A0A0A Bold. Inactive pill: background #1A1A1A, text #888, border 1px #2A2A2A. All pills: border-radius 50px, padding 10px 20px. Wire the pill tap to update the category filter state."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Add 'DISPONIBLES MAINTENANT' Flash section with horizontally scrollable flash pro cards above the main pro list",
      "acceptanceCriteria": [
        "Section title shows a pulsing green dot and 'DISPONIBLES MAINTENANT' in #22C55E 13px tracking 2px",
        "Flash cards scroll horizontally",
        "Each card is 160√ó200px with 16px radius and a cover photo",
        "Black gradient overlay appears at the card bottom",
        "FLASH badge in #22C55E top-left, pro name white Bold and city #CCC 12px at the bottom"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Add a new Flash section above the main pro card list. Section title: a green pulsing dot (CSS animation pulse, background #22C55E) + 'DISPONIBLES MAINTENANT' in #22C55E 13px tracking 2px uppercase. Render horizontally scrollable flash pro cards (overflow-x: auto, no visible scrollbar). Each card: 160px wide, 200px tall, border-radius 16px, full-card cover photo (mainPhoto or galleryPhotos[0] from ProProfile), black gradient overlay at the bottom (linear-gradient from transparent to rgba(0,0,0,0.8)), green 'FLASH' badge in top-left corner (background #22C55E, text white, border-radius 50px, padding 10px 12px), pro brandName in white Bold at the bottom, and city in #CCC 12px. Filter displayed pros by those with flash availability or a flash flag (check ProProfile fields or use demo data logic). Wire card tap to navigate to ProviderDetail."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Redesign main pro cards with full-width cover photo, badges, info zone, price, and golden R√âSERVER button",
      "acceptanceCriteria": [
        "Cover photo occupies full card width at 180px height with object-fit cover",
        "FLASH badge (green) appears top-left; Revolut badge appears top-right with semi-transparent background",
        "Info zone has #111111 background with pro name, rating, category, location, response time, price, and R√âSERVER button",
        "Price is displayed in #E8C89A Bold",
        "Card has 20px border-radius and 0 4px 24px rgba(0,0,0,0.4) shadow",
        "Cards have 16px vertical margin between them"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Redesign the main pro card list items. Each card: full-width cover photo at 180px height with object-fit cover (use mainPhoto or first galleryPhoto from ProProfile), green FLASH badge in top-left if applicable (background #22C55E, text white, padding 6px 12px, border-radius 50px), semi-transparent 'Revolut ‚úÖ' badge in top-right (background rgba(0,0,0,0.6), text white, padding 6px 12px, border-radius 50px). Info zone: background #111111, padding 16px. Display pro brandName in Bold 18px white with ‚≠ê rating (from demo data or ProProfile) right-aligned, category in #888 14px with review count, location üìç city and ‚ö° response time in #666 12px, horizontal separator line, price '√Ä partir de X CHF' in #E8C89A Bold 18px (compute minimum service price from ProProfile services array), and a golden 'R√âSERVER ‚ö°' button (background #E8C89A, text #0A0A0A Bold 14px uppercase, padding 12px 24px, border-radius 50px). Card: border-radius 20px, box-shadow 0 4px 24px rgba(0,0,0,0.4), margin-bottom 16px. Wire card tap to navigate to ProviderDetail; wire button tap to start booking flow."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Add fixed bottom navigation bar with four tabs: Explorer, R√©servations, Messages, Profil",
      "acceptanceCriteria": [
        "Bottom nav bar is fixed at the bottom of the screen on all main app screens",
        "Background is #0F0F0F with 1px #1F1F1F top border",
        "Height is 64px with env(safe-area-inset-bottom) padding for iOS",
        "Four tabs displayed: Explorer, R√©servations, Messages, Profil",
        "Active tab icon and label render in #E8C89A; inactive tabs in #555555",
        "Red badge appears on R√©servations tab when there are pending bookings",
        "Tapping each tab navigates to the corresponding screen"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/BottomNav.tsx",
          "operation": "create",
          "description": "Create a new BottomNav component with fixed positioning at the bottom. Background #0F0F0F, border-top 1px #1F1F1F, height 64px plus env(safe-area-inset-bottom) padding for iOS. Render four tabs: [üîç Explorer] [üìÖ R√©servations] [üí¨ Messages] [üë§ Profil]. Active tab: icon + text in #E8C89A. Inactive tab: icon + text in #555555. Show a red badge on R√©servations tab when there are new/pending bookings (check AppContext bookings state for pending status). Wire each tab tap to navigate to the corresponding screen via AppContext navigation (explorer, clientDashboard or nexusOS for R√©servations depending on user role, messages placeholder, and profile screen). Use the current screen state from AppContext to determine the active tab."
        },
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Import and render BottomNav at the bottom of the Explorer layout. Ensure it is fixed and does not overlap with content by adding padding-bottom equal to nav height."
        },
        {
          "path": "frontend/src/components/ClientDashboard.tsx",
          "operation": "modify",
          "description": "Import and render BottomNav at the bottom of the ClientDashboard layout. Ensure it is fixed and does not overlap with content by adding padding-bottom equal to nav height."
        },
        {
          "path": "frontend/src/components/NexusOS.tsx",
          "operation": "modify",
          "description": "Import and render BottomNav at the bottom of the NexusOS layout. Ensure it is fixed and does not overlap with content by adding padding-bottom equal to nav height."
        }
      ]
    },
    {
      "id": "REQ-8",
      "summary": "Apply global Inter typography system with specific sizes, weights, colors, and tracking for all text elements",
      "acceptanceCriteria": [
        "Inter is the sole font family used throughout the app",
        "H1/H2/body/caption/label/price/button text sizes and weights match the specification",
        "Price elements render in #E8C89A Bold 18px",
        "Button text is #0A0A0A Bold 14px uppercase with tracking 1px"
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Replace all font-family declarations with Inter. Import Inter from Google Fonts if not already present (check frontend/index.html). Define global typography utility classes or CSS variables: H1 (28px Bold #FFFFFF tracking -1px), H2 (22px SemiBold #FFFFFF), Body (15px Regular #CCCCCC), Caption (12px Regular #888888), Labels (11px SemiBold #888888 tracking 2px uppercase), Prices (18px Bold #E8C89A), Buttons (14px Bold #0A0A0A tracking 1px uppercase). Update the base body font to Inter 15px Regular #CCCCCC."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Update the fontFamily theme extension to set Inter as the default sans font family. Ensure all existing font references (Darker Grotesque, Playfair Display) are removed or overridden by Inter. Verify that custom fontSize and letterSpacing values are available for H1, H2, body, caption, labels, prices, and buttons."
        }
      ]
    },
    {
      "id": "REQ-9",
      "summary": "Implement micro-animations for buttons, cards, badges, skeletons, and screen transitions",
      "acceptanceCriteria": [
        "All interactive buttons scale to 0.96 on tap/active with 150ms transition",
        "Cards show shadow elevation on hover/tap",
        "FLASH badges continuously pulse (opacity 1‚Üí0.6‚Üí1) on a 1.5s loop",
        "Red notification badges have a pulsing red animation",
        "Skeleton loaders show a golden shimmer sweep on #1A1A1A",
        "Navigating between screens fades in/out over 200ms"
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add global CSS classes and animations: (1) .btn-tap with active:scale-[0.96] transition-transform duration-150 ease-out; (2) .card-hover with hover:shadow-elevated transition-shadow; (3) @keyframes flash-pulse for FLASH badges (opacity 1‚Üí0.6‚Üí1, 1.5s infinite); (4) @keyframes red-pulse for red notification badges (if not already present); (5) @keyframes shimmer for skeleton loaders with golden shimmer sweep on #1A1A1A background; (6) .screen-transition with opacity fade-in/out 200ms. Apply these classes to relevant elements across components."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Ensure the animation keyframes for flash-pulse, red-pulse, and shimmer are defined in the theme.extend.keyframes section. Add animation utilities: flash-pulse (1.5s infinite), red-pulse (2s infinite), shimmer (2s infinite). Verify that transitionDuration includes 150ms and 200ms values."
        },
        {
          "path": "frontend/src/components/Explorer.tsx",
          "operation": "modify",
          "description": "Apply .btn-tap class to all buttons and .card-hover class to pro cards. Apply flash-pulse animation to FLASH badges. Ensure skeleton loaders use the shimmer animation on #1A1A1A backgrounds."
        },
        {
          "path": "frontend/src/components/Splash.tsx",
          "operation": "modify",
          "description": "Apply .btn-tap class to the 'SE CONNECTER' button with scale(0.96) and brightness(1.1) on active state."
        },
        {
          "path": "frontend/src/components/GlobalHeader.tsx",
          "operation": "modify",
          "description": "Apply red-pulse animation to the notification badge."
        },
        {
          "path": "frontend/src/components/ScreenRouter.tsx",
          "operation": "modify",
          "description": "Wrap screen components with a fade-in/fade-out transition (200ms) when switching between screens. Use CSS transitions or React transition libraries as appropriate."
        }
      ]
    },
    {
      "id": "REQ-10",
      "summary": "Build or fully redesign pro detail screen with cover photo, profile photo, badges, score bar, service cards, and sticky bottom CTA",
      "acceptanceCriteria": [
        "Cover photo is full-width at 220px",
        "Profile photo is 80px circular with 3px golden border, overlapping cover by 40px",
        "Pro name, slogan, and inline badges are displayed correctly",
        "Score bar shows response time, acceptance rate, and prestations count in a dark card",
        "Services render as horizontally scrollable cards with name, duration, price in gold, and optional badges",
        "Sticky bottom button shows '‚ö° R√âSERVER MAINTENANT ‚Äî X CHF' in #E8C89A background with #0A0A0A text",
        "Tapping the CTA initiates the booking flow for the selected service"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/ProviderDetail.tsx",
          "operation": "modify",
          "description": "Redesign the entire ProviderDetail layout. Top: full-width cover photo at 220px height (use mainPhoto or first galleryPhoto from ProProfile). Overlapping the cover by -40px: circular 80px profile photo with 3px golden border (#E8C89A). Below: pro brandName in 24px Bold white with 48px margin-top, slogan in 14px italic #888. Inline badges: [‚ö° Flash] [üí≥ Revolut ‚úÖ] [‚≠ê rating] [N avis] (styled as pills with appropriate colors). Score bar: background #1A1A1A, border-radius 12px, padding 16px, three columns showing ‚ö° response time, ‚úÖ acceptance rate, and üéØ total prestations (extract from ProProfile or demo data). Horizontally scrollable service cards: background #1A1A1A, border-radius 12px, padding 16px, showing service name Bold white, duration + price in #E8C89A Bold, optional before/after photos from service.beforeAfterPhotos, and badges [Populaire] [Nouveau] [Promo] from service.badges. Sticky bottom CTA: '‚ö° R√âSERVER MAINTENANT ‚Äî X CHF' (compute total price for selected service), background #E8C89A, text #0A0A0A Bold 14px uppercase, full width, height 56px, border-radius 0, border-top 1px rgba(232,200,154,0.3). Wire CTA tap to initiate the booking flow (navigate to BookingFlow with selected service)."
        }
      ]
    }
  ]
}
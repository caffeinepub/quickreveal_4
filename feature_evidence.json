{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-create-frontend-src-lib-payrexx-ts-with-the-exact-implementation-provided-createsubscriptionurl-proid-email-phone-and-createbookingurl-bookingid-montant-servicename-email-functions-that-call-the-payrexx-api-directly-from-the-frontend-using-vite-payrexx-instance-and-vite-payrexx-secret-env-vars-always-passing-psp-0-twint-returning-the-gateway-link-url-no-stripe-no-revolut-references-anywhere",
      "featureTitle": "Create `frontend/src/lib/payrexx.ts` with the exact implementation provided: `createSubscriptionUrl(proId, email, phone)` and `createBookingUrl(bookingId, montant, serviceName, email)` functions that call the Payrexx API directly from the frontend using `VITE_PAYREXX_INSTANCE` and `VITE_PAYREXX_SECRET` env vars, always passing `psp[0]=twint`, returning the gateway link URL. No Stripe, no Revolut references anywhere.",
      "files": [
        "frontend/src/lib/payrexx.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-1"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-create-frontend-src-lib-twilio-ts-with-sendotp-phone-and-verifyotp-phone-code-functions-that-proxy-through-vite-worker-url-send-otp-and-verify-otp-endpoints-credentials-are-never-exposed-on-the-frontend-verifyotp-returns-data-valid-true",
      "featureTitle": "Create `frontend/src/lib/twilio.ts` with `sendOTP(phone)` and `verifyOTP(phone, code)` functions that proxy through `VITE_WORKER_URL` (`/send-otp` and `/verify-otp` endpoints). Credentials are never exposed on the frontend. `verifyOTP` returns `data.valid === true`.",
      "files": [
        "frontend/src/lib/twilio.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-2"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-refactor-the-entire-frontend-into-the-exact-multi-file-architecture-specified-deliver-every-file-listed-src-app-tsx-usestate-routing-toastcontainer-notifspanel-src-state-useappstate-ts-global-state-go-showtoast-update-src-lib-actor-ts-icp-internet-identity-createactor-login-logout-src-lib-api-ts-all-canister-functions-src-lib-notifications-ts-getnotifications-markread-src-styles-globals-css-css-vars-palette-keyframe-animations-mobile-reset-scrollbar-hidden-and-src-components-icons-index-tsx-30-svg-icon-components-zero-emojis",
      "featureTitle": "Refactor the entire frontend into the exact multi-file architecture specified. Deliver every file listed: `src/App.tsx` (useState routing, ToastContainer, NotifsPanel), `src/state/useAppState.ts` (global state, `go()`, `showToast()`, `update()`), `src/lib/actor.ts` (ICP Internet Identity, createActor, login, logout), `src/lib/api.ts` (all canister functions), `src/lib/notifications.ts` (getNotifications, markRead), `src/styles/globals.css` (CSS vars palette, keyframe animations, mobile reset, scrollbar hidden), and `src/components/icons/index.tsx` (30+ SVG icon components, zero emojis).",
      "files": [
        "frontend/src/components/icons/index.tsx",
        "frontend/src/lib/notifications.ts",
        "frontend/src/state/useAppState.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-4"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-deliver-all-auth-screens-src-screens-auth-loginscreen-tsx-internet-identity-login-real-icp-mainnet-src-screens-auth-rolescreen-tsx-client-professional-admin-role-selection-src-screens-auth-otpscreen-tsx-6-digit-sms-otp-input-verified-via-lib-twilio-ts-cloudflare-worker-all-screens-must-have-back-navigation-and-no-emoji",
      "featureTitle": "Deliver all auth screens: `src/screens/auth/LoginScreen.tsx` (Internet Identity login, real ICP mainnet), `src/screens/auth/RoleScreen.tsx` (client / professional / admin role selection), `src/screens/auth/OTPScreen.tsx` (6-digit SMS OTP input verified via `lib/twilio.ts` Cloudflare Worker). All screens must have back navigation and no emoji.",
      "files": [
        "frontend/src/screens/auth/LoginScreen.tsx",
        "frontend/src/screens/auth/OTPScreen.tsx",
        "frontend/src/screens/auth/RoleScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-6"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-deliver-all-client-screens-explorerscreen-tsx-ficheproscreen-tsx-booking1screen-tsx-through-booking5screen-tsx-5-step-booking-flow-livestatusscreen-tsx-reservationsscreen-tsx-alertesscreen-tsx-clientprofilscreen-tsx-all-screens-use-go-from-useappstate-for-navigation-booking-confirmation-must-call-createbookingurl-from-lib-payrexx-ts-and-redirect-via-window-location-href-to-the-payrexx-twint-gateway-no-settimeout-fake-payment-flows",
      "featureTitle": "Deliver all client screens: `ExplorerScreen.tsx`, `FicheProScreen.tsx`, `Booking1Screen.tsx` through `Booking5Screen.tsx` (5-step booking flow), `LiveStatusScreen.tsx`, `ReservationsScreen.tsx`, `AlertesScreen.tsx`, `ClientProfilScreen.tsx`. All screens use `go()` from `useAppState` for navigation. Booking confirmation must call `createBookingUrl` from `lib/payrexx.ts` and redirect via `window.location.href` to the Payrexx TWINT gateway. No setTimeout fake payment flows.",
      "files": [
        "frontend/src/screens/client/AlertesScreen.tsx",
        "frontend/src/screens/client/ClientProfilScreen.tsx",
        "frontend/src/screens/client/ExplorerScreen.tsx",
        "frontend/src/screens/client/ReservationsScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-7"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-deliver-all-pro-screens-prodashboardscreen-tsx-proradarscreen-tsx-prowalletscreen-tsx-probusinessscreen-tsx-5-tabs-profile-services-tarifs-payment-gallery-subscriptionmodal-tsx-calls-createsubscriptionurl-from-lib-payrexx-ts-redirects-to-payrexx-twint-successscreen-tsx-no-stripe-no-emoji",
      "featureTitle": "Deliver all pro screens: `ProDashboardScreen.tsx`, `ProRadarScreen.tsx`, `ProWalletScreen.tsx`, `ProBusinessScreen.tsx` (5 tabs: profile, services, tarifs, payment, gallery), `SubscriptionModal.tsx` (calls `createSubscriptionUrl` from `lib/payrexx.ts`, redirects to Payrexx TWINT), `SuccessScreen.tsx`. No Stripe, no emoji.",
      "files": [
        "frontend/src/screens/pro/ProDashboardScreen.tsx",
        "frontend/src/screens/pro/ProRadarScreen.tsx",
        "frontend/src/screens/pro/SubscriptionModal.tsx",
        "frontend/src/screens/pro/SuccessScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-8"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-deliver-all-admin-screens-adminloginscreen-tsx-admindashboardscreen-tsx-adminprosscreen-tsx-adminbookingsscreen-tsx-adminrevenusscreen-tsx-admin-login-must-use-credentials-stored-in-localstorage-set-during-first-run-setupscreen-no-emoji",
      "featureTitle": "Deliver all admin screens: `AdminLoginScreen.tsx`, `AdminDashboardScreen.tsx`, `AdminProsScreen.tsx`, `AdminBookingsScreen.tsx`, `AdminRevenusScreen.tsx`. Admin login must use credentials stored in localStorage (set during first-run SetupScreen). No emoji.",
      "files": [
        "frontend/src/screens/admin/AdminDashboardScreen.tsx",
        "frontend/src/screens/admin/AdminLoginScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-9"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-implement-setupscreen-first-run-configuration-screen-display-it-before-adminloginscreen-if-any-of-vite-payrexx-instance-vite-payrexx-secret-or-vite-worker-url-are-empty-or-if-no-admin-credentials-exist-in-localstorage-the-screen-must-have-title-nexus-initial-configuration-inter-800-28px-payrexx-section-instance-input-placeholder-nexus-secret-api-input-type-password-twilio-section-worker-url-input-placeholder-https-admin-section-email-password-confirm-password-initialize-nexus-cta-button-with-gold-background-and-050507-text-saves-all-values-to-localstorage-and-to-the-canister-admin-config-via-lib-api-ts",
      "featureTitle": "Implement `SetupScreen` (first-run configuration screen). Display it before `AdminLoginScreen` if any of `VITE_PAYREXX_INSTANCE`, `VITE_PAYREXX_SECRET`, or `VITE_WORKER_URL` are empty OR if no admin credentials exist in localStorage. The screen must have: title 'NEXUS Initial Configuration' (Inter 800 28px), Payrexx section (Instance input placeholder 'nexus', Secret API input type=password), Twilio section (Worker URL input placeholder 'https://...'), Admin section (email, password, confirm password). 'Initialize NEXUS' CTA button with gold background and `#050507` text saves all values to localStorage and to the canister admin config via `lib/api.ts`.",
      "files": [
        "frontend/src/screens/SetupScreen.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "blob-storage@4.0.0",
        "stripe@3.0.0",
        "http-outcalls@3.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-10"
      ],
      "confidence": "high"
    }
  ]
}